<div id="settings-view">
  <mat-list class="notifiers-list" *ngIf="notifiers$ | async as notifiers">
    <mat-list-item class="notifier-entry" *ngFor="let notifier of notifiers" (click)="notifierSelected(notifier)">
      {{notifier.name}}
    </mat-list-item>
  </mat-list>

  <div class="notifiers-form">
    <mat-card *ngIf="selectedNotifier && notifierFormGroup">
      <mat-card-header>
        <mat-card-title>{{selectedNotifier.name}}</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <form [formGroup]="notifierFormGroup">
          <div *ngFor="let form of selectedNotifier.form" class="input-row">
            <p class="mat-subheading-1">{{form.title}}</p>
            <mat-form-field>
              <mat-label>{{form.title}}</mat-label>
              <input matInput
                     [type]="form.type"
                     [placeholder]="form.placeholder"
                     [formControlName]="form.formControlName"
                     [required]="form.required">
            </mat-form-field>
          </div>
        </form>
      </mat-card-content>
      <mat-card-actions align="right">
        <button mat-raised-button color="accent"
                (click)="updateNotifier()"
                [disabled]="!this.notifierFormGroup.valid">
          Save
        </button>
      </mat-card-actions>
    </mat-card>
  </div>
</div>
